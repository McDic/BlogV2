---
categories:
    - Poker
tags:
    - math
    - probability
title: POKER 5. Martingale Betting System is a Trash
---

안녕하세요.
이번 글에서는 [마틴게일 베팅 시스템](https://en.wikipedia.org/wiki/Martingale_(betting_system))에 대해 이야기를 하고자 합니다.

마틴게일은 "포커"에서 사용할만한 방식은 아니지만, 포커를 하는 사람들이 카지노에서 다른 도박을 건드리거나 혹은 퀀트를 하는 과정에서 마틴게일 베팅 시스템을 맹신하고 사용하는 것을 종종 봤습니다.
하지만 마틴게일 베팅 시스템은 베팅 금액을 매니징하는 정말 안 좋은 방법론입니다.
지금부터 그 이유를 천천히 살펴볼 것입니다.

<!-- more -->
---

## How martingale betting system works

마틴게일 베팅 시스템은, 어떤 베팅이 실패해서 돈을 잃었을 때 앞의 베팅에서 일어난 손실을 만회할 수 있을만큼의 더 큰 돈을 베팅하는 과정을 반복하는 시스템입니다.
가장 간단한 마틴게일 베팅은 다음과 같은 형태일 것입니다.

*베팅 성공시 베팅한 만큼의 돈을 얻고, 실패시 베팅한 만큼의 돈을 잃는 도박에서 베팅을 실패할 때마다 베팅 금액을 2배로 늘리는 방법*

예를 들어서, 처음에는 500원을 베팅하고 잃으면 1000원을 베팅, 그것도 잃으면 2000원, 4000원, ... 이런 식으로 성공할 때까지 계속해서 베팅 금액을 2배씩 늘리는 셈입니다.

이번 글에서는 방금 설명드린 가장 간단한 형태의 마틴게일 베팅을 중점적으로 다룰 것입니다.

---

## The reward amount on success is limited

(가장 간단한 형태의) 마틴게일 베팅의 단점 중 하나는 베팅에 성공했을 때 얻을 수 있는 금액의 상한선이 정해져 있다는 것입니다.

성공 시 원금이 2배가 되고 실패 시 원금을 잃는 도박에서 첫 진입으로 $x$ 달러를 베팅한다고 가정하면, 마틴게일 베팅으로 가능한 모든 시나리오는 파산이거나 혹은 $x$달러의 수익으로 귀결됩니다.

- 1번째 베팅에서 성공: $x$달러 수익
- 1번째 베팅에서 실패하고 2번째 베팅에서 성공: $x$달러 손해 및 $2x$달러 수익 (총 $x$달러 수익)
- 1, 2번째 베팅에서 실패하고 3번째 베팅에서 성공: $(x + 2x)$달러 손해 및 $4x$달러 수익 (총 $x$달러 수익)
- $1, 2, \ldots t$번째 베팅에서 실패하고 $t+1$번째 베팅에서 성공: $(1 + 2 + \ldots + 2^{t-1})x$ 달러 손해 및 $2^tx$달러 수익 (총 $x$달러 수익)
- *전 재산을 탕진할 때까지 모든 베팅에서 실패: 파산*

그 어떤 경우에도 결국 수익을 내는 순간 총 수익은 $x$달러로 귀결되나,
더 많은 베팅을 연속으로 실패할수록 똑같은 수익을 내기 위해 우리가 걸어야 하는 베팅금액은 커지게 됩니다.

여기까지만 보더라도 마틴게일이 안 좋다는 것이 보이실 겁니다.
하지만 혹자는 이렇게 생각할 수도 있습니다.

!!! quote

    *"충분히 많은 자산을 가지고 굴린다면 파산하지 않고 괜찮게 베팅할 수 있지 않을까?"*

아뇨, 그렇지 않습니다. 지금부터 그 이유에 대해 서술해보겠습니다.

---

## Quantitative probability of bankrupt

이제 위 도박에서 전 재산의 $\frac{1}{n}$만큼을 초기 베팅 금액으로 설정해봅시다.
도박의 실패 확률을 고정된 값 $p$라고 가정한다면, 베팅을 근사적으로 $\log_2{n}$번 실패했을 때 파산하게 됩니다.
예를 들어 $n = 16$인 경우, 베팅에 $\log_2{16} = 4$번 실패하면 전 재산의 93.75%를 날리게 되며 5번째 베팅을 할 수 없는 상태가 됩니다.

!!! formula

    그렇다면 당신이 파산할 확률 $B(n, p)$은 다음과 같습니다.

    $$B(n, p) = p^{\log_2{n}}$$

$p > 0$인 한, 아무리 $n$이 크더라도 단일 마틴게일 베팅에서 당신이 파산할 확률 $B(n, p)$는 $0$보다 큽니다.

이것이 마틴게일 베팅 시스템이 실패하는 이유입니다.
아무리 $p$가 낮은 유리한 도박을 하더라도, 아무리 $n$을 늘려서 잘게 쪼개서 베팅을 하더라도, 시행횟수가 커질수록 파산하지 않을 확률(= 0보다 크지만 1보다 작은 수)을 계속 곱해가다보면 결국 파산하지 않을 확률은 0에 수렴하기 때문입니다.

"유리하지 않은 도박"을 하면 $B(n, p)$ 값은 더욱 극단적으로 명확히 보이게 됩니다.
예를 들어 바카라에서 플레이어가 이길 확률은 44.62% 이고 뱅커가 이길 확률은 45.86% 입니다.
타이가 발생하면 그냥 결과가 없던 셈으로 치고 계속해서 베팅을 이어나간다고 가정하면, 플레이어가 이길 확률은 49.3147% 정도가 될 것입니다.
이제 바카라에서 플레이어에 계속해서 베팅한다고 가정했을 때 다음 값들을 살펴봅시다.

- $B(n = 5, p \approx 1 - 0.493) \approx 0.21$
- $B(n = 20, p \approx 1 - 0.493) \approx 0.053$
- $B(n = 100, p \approx 1 - 0.493) \approx 0.0109$
- $B(n = 10^4, p \approx 1 - 0.493) \approx 0.00012$

하지만..

- 작은 $n$에서는 파산확률이 유의미하게 크다는 점을 감안할 때,
- 실제로 현실의 많은 카지노들이 단일 게임에서의 최대 베팅 금액을 제한한다는 점을 감안할 때,
- $n$이 커질수록 원금을 2배로 불리기 위해서는 복리 베팅을 한다고 가정하더라도 거의 $0.69n$에 가까운 시행횟수를 돌려야 한다는 것을 감안할 때,

마틴게일로 파산하지 않고 원금의 몇 배, 몇십 배 이상의 돈을 버는 것은 거의 불가능하다고 할 수 있습니다.

---

여태까지 마틴게일이 왜 쓰레기인지 알아보았습니다.
[위키백과의 해당 문서](https://en.wikipedia.org/wiki/Martingale_(betting_system)#Mathematical_analysis)에서는 한 술 더 떠서, [Optional stopping theorem](https://en.wikipedia.org/wiki/Optional_stopping_theorem)을 통해 그 어떤 변형된 형태의 마틴게일 시스템도 장기적으로 성공할 수 없는 이유를 설명하고 있습니다.
마틴게일에 매몰될 바에 차라리 다른 방식으로 도파민 갈증을 해소하시길 권장드립니다.

글을 읽어주셔서 감사합니다.
